# JingziQi
井字棋。
工程的Unity版本为2021.3.13f1c1。

共有4个场景，依次为mainScene，selfPlay，simpleRenji，hardRenji。
依次对应：主界面、自我对弈、简单人机、高级人机。
运行时请从主界面mainScene开始运行。

功能概述：

1、主界面可以向其他三个场景的任意一个切换。

2、ESC键在主界面为退出游戏，其余三个场景则是返回主界面。

3、井字棋游戏在本程序，由“圈”执先手，“叉”执后手。

4、自我对弈，由玩家依次使用圈和叉，交替落子。

5、简单人机，玩家随机执先手或后手，电脑方的落子策略是随机在棋盘上未落子的位置落子。

6、高级人机，玩家随机执先手或后手，电脑方的落子策略根据博弈树搜索的最优结果落子。

高级人机下，玩家不可能战胜电脑，最多和棋。

7、仅高级人机时，玩家可用技能。电脑不会使用技能。

【打乱】在棋盘上至多有2个棋子（玩家先手）或者5个棋子（玩家后手）的情况下，随机分配每一个棋子的位置。必定不会直接胜利。每局棋至多使用三次。

【落子】在棋盘上任意位置落子，而不管此位置是否已经有棋子。如果有，则替换为自己的棋子。用此技能落子后直接胜利的位置则禁止。每局棋至多使用一次，且玩家先手时不可用。

8、所有模式都有重置棋局功能，点击按钮即可重新下棋，并重新随机先后手。

所有模式都有限时3秒、限时5秒功能，点击对应的重置按钮即可开启。限时模式下，一方的总用时上限被固定，超时则结束对局。

5s足够思考完成对局，高级人机有机会使用数次技能；3s时间较紧张，略犹豫即超时，高级人机下用技能必超时。

9、可以全局地调整背景音乐和音效的音量。

博弈树相关：

博弈树在本程序，为全宽度、最深7层的搜索树。使用alpha-beta剪枝算法回溯结果。

当局面已经形成对对方的必胜结局（根节点所有孩子能获得的最大收益是负无穷）时，博弈树会返回第一个可落子的位置，进行“消极对局”。

一个可修改的方法是，在生成树时使用“关键步”标记，落子位置的分数从大到小依次为：落子可胜利 > 对方落子可胜利 >> 其他情形。

当生成树时，第一层孩子里出现了关键步，则直接退出生成树的函数，直接选择最大分数的位置落子，以营造“积极对局”的感觉。

网络资源：

使用的天空盒、棋盘背景图、棋子图、中文字体、背景音乐、音效均系网络素材，严禁摘出来商用，谨防侵权。
